<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Buy Ticket</title>
  </head>
  <body>
    <h1>Buy Tickets for Flight {{ flight.id }}</h1>

    <h2>Existing Passengers</h2>
    <form method="post" action="/checkout">
      <input type="hidden" name="flight_id" value="{{ flight.id }}" />
      {% if passengers %} {% for passenger in passengers %}
      <input type="checkbox" name="passenger_ids" value="{{ passenger.id }}" />
      {{ passenger.name }} ({{ passenger.national_id }})<br />
      {% endfor %} {% else %}
      <p>No passengers found. Add a new one below.</p>
      {% endif %}

      <h2>Add New Passenger</h2>
      <form method="post" action="/add_passenger">
        <label for="name">Name:</label>
        <input type="text" name="name" id="name" required /><br />

        <label for="national_id">National ID:</label>
        <input type="text" name="national_id" id="national_id" required /><br />

        <label for="age">Age:</label>
        <input type="number" name="age" id="age" required /><br />

        <label for="gender">Gender:</label>
        <select name="gender" id="gender" required>
          <option value="Male">Male</option>
          <option value="Female">Female</option></select
        ><br />
        <button type="submit">Add Passenger</button>
      </form>

      <button type="submit">Proceed to Checkout</button>
    </form>
  </body>
</html>
